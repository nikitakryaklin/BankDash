{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikita/Desktop/bankDash/BankDash/src/app/api/login/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nexport async function POST(request: any) {\n  const body = await request.json();\n  const { identifier, password } = body;\n\n  const strapiRes = await fetch(\"http://localhost:1337/api/auth/local\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      identifier: identifier,\n      password: password,\n    }),\n  });\n\n  const data = await strapiRes.json();\n\n  if (strapiRes.ok) {\n    const response = NextResponse.json({ data });\n\n    response.cookies.set(\"token\", data.jwt, {\n      httpOnly: true,\n      maxAge: 60 * 60 * 24,\n      path: \"/\",\n      sameSite: \"lax\",\n      secure: process.env.NODE_ENV === \"production\",\n    });\n\n    return response;\n  } else {\n    return NextResponse.json(\n      { error: data.error?.message || \"Ошибка входа\" },\n      { status: 401 },\n    );\n  }\n}\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe,KAAK,OAAY;IACrC,MAAM,OAAO,MAAM,QAAQ,IAAI;IAC/B,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG;IAEjC,MAAM,YAAY,MAAM,MAAM,wCAAwC;QACpE,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;YACnB,YAAY;YACZ,UAAU;QACZ;IACF;IAEA,MAAM,OAAO,MAAM,UAAU,IAAI;IAEjC,IAAI,UAAU,EAAE,EAAE;QAChB,MAAM,WAAW,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE;QAAK;QAE1C,SAAS,OAAO,CAAC,GAAG,CAAC,SAAS,KAAK,GAAG,EAAE;YACtC,UAAU;YACV,QAAQ,KAAK,KAAK;YAClB,MAAM;YACN,UAAU;YACV,QAAQ,oDAAyB;QACnC;QAEA,OAAO;IACT,OAAO;QACL,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO,KAAK,KAAK,EAAE,WAAW;QAAe,GAC/C;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}